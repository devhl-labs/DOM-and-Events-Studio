<!DOCTYPE html>
<html>
    <head>
        <title>Flight Simulator</title>
        <link rel = "stylesheet" type = "text/css" href = "styles.css" />
        <script src = "scripts.js"></script>
    </head>
    <body>
        <div style="text-align: center;">
            <h1>Flight Simulator</h1>
            <h2>Current Flight Status</h2>
            <p id = "flightStatus">Space shuttle ready for takeoff</p>
            <h2>Shuttle Trajectory</h2>
        </div>
        <div style="text-align: center; height: 400px; width: 100%;" >
            <div style="text-align: center; display: inline-block;">
                <h3>Fuel Levels</h3>
                <p>Tank Full</p>
                <h3>Astronaut Chat</h3>
                <p>Houston, we are ready when you are!</p>
            </div>
            <div id = "shuttleBackground" style = "position: relative;">
                <img src = "LaunchCode_rocketline_white.png" height = "75" width = "75" id = "rocket"/>
            </div>
            <div style = "text-align: center; display: inline-block;">
                    <button>Up</button>
                    <button>Down</button>
                    <button>Right</button>
                    <button>Left</button>
                    <h3>Space Shuttle Height</h3>
                    <p id='spaceShuttleHeight'>0</p><p style = "display: inline-block;"> miles</p>
            </div>
        </div>
        <div style="text-align: center;">
            <button id = "takeoff">Take off</button>
            <button id = "landing">Land</button>
            <button id = "missionAbort">Abort Mission</button>
    </div>

    <script>

        //let takeoff = document.getElementById('takeoff');
        //let landing = document.getElementById('landing');
        //let flightStatus = document.getElementById('flightStatus');
        //let shuttleBackground = document.getElementById('shuttleBackground');
        //let shuttleHeight; // = document.getElementById('spaceShuttleHeight');
        //let abort = document.getElementById('missionAbort');
        //let dpad = document.querySelectorAll('body > div:nth-child(2) > div:nth-child(3) > button');
        //let rocket = document.getElementById('rocket');

        window.addEventListener('load', windowLoad);
        let bottom = -250;
        let left = 0;

        function windowLoad(event) {
            var takeoff = document.getElementById('takeoff');
            var landing = document.getElementById('landing');
            var flightStatus = document.getElementById('flightStatus');
            var shuttleBackground = document.getElementById('shuttleBackground');
            var shuttleHeight = document.getElementById('spaceShuttleHeight');
            var abort = document.getElementById('missionAbort');
            var dpad = document.querySelectorAll('body > div:nth-child(2) > div:nth-child(3) > button');
            var rocket = document.getElementById('rocket');
            rocket.style = `position:relative;bottom:${bottom}px;left:${left};`;

            takeoff.addEventListener('click', takeoffClick);
            landing.addEventListener('click', landingClick);
            abort.addEventListener('click', abortClick);

            for (let direction of dpad) {
                direction.addEventListener('click', directionClick);
            }
        }

        function takeoffClick(event) {
            console.log(flightStatus);
            console.log(shuttleHeight);

            //if (confirm('Confirm that the shuttle is ready for takeof.')) {
            //    flightStatus.innerHTML = 'Shuttle in flight.';
            //    shuttleBackground.style = ' background-color:blue;';
                //shuttleHeight.innerHTML = Number(shuttleHeight.innerHTML) + 10000;
            //}
        }

        function landingClick(event) {
            alert('The shuttle is landing. Landing gear engaged.');
            flightStatus.innerHTML = 'The shuttle has landed.';
            shuttleBackground.style = ' background-color:green';
            shuttleHeight.innerHTML = 0;
        }

        function abortClick(event) {
            if (confirm('Confirm taht you want to abort the mission.')) {
                flightStatus.innerHTML = 'Mission aborted.';
                shuttleBackground.style = ' background-color:green';
                shuttleHeight.innerHTML = 0;
            }
        }

        function directionClick(event) {
            let direction = event.target.innerHTML;
            console.log(shuttleHeight);
            if (direction === 'Up') {
                bottom += 10;
                shuttleHeight.innerHTML += 10000;
            }
            if (direction === 'Down') bottom -= 10;
            if (direction === 'Left') left -= 10;
            if (direction === 'Right') left += 10;

            rocket.style = `position:relative;bottom:${bottom}px;left:${left}px;`;
            

            console.log(rocket.style);
        }

    </script>
    </body>
</html>